#ifndef SPRITE_COMPONENT
#define SPRITE_COMPONENT

#include "SDL2/SDL.h"
#include "Components.hpp"
#include "../TextureManager.hpp"

class SpriteComponent : public Component
{
private:
    SDL_Rect srcRect;
    SDL_Rect destRect;
    SDL_Texture* texture;
    TransformComponent* transform;


public:
    SpriteComponent() = default;
    SpriteComponent( const char* path ) { setTexture( path ); }
    void setTexture( const char* path ) { this->texture = TextureManager::LoadTexture( path ); }

    void init() override {
	this->transform = &entity->getComponent< TransformComponent >();

	srcRect.x = srcRect.y = 0;
	srcRect.w = srcRect.w = 32;

	destRect.w = destRect.h = 64;
    }

    void update() override {
	destRect.x = ( int )transform->getXPos();
	destRect.y = ( int )transform->getYPos();
    }

    void draw() override { TextureManager::Draw( texture, srcRect, destRect ); }

};

#endif
